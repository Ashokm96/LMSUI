<div class="form-container">
  <h2 style="text-align:center">Add Course</h2>
  <form [formGroup]="courseForm">
    <div class="form-group">
      <label for="name">Course Name:</label>
      <input type="text" id="name" formControlName="name" (input)="emptyError()">
    <span *ngIf="courseForm.get('name')?.invalid && (courseForm.get('name')?.dirty || courseForm.get('name')?.touched)" class="error-text">
      {{ courseForm.get('name')?.hasError('required') ? 'Course Name is required' : courseForm.get('name')?.hasError('nonEmpty') ? 'Course Name cannot be empty' : courseForm.get('name')?.hasError('minlength') ? 'Course Name must be 5 characters long' : '' }}
    </span>
    <span *ngIf="existingCourseName" class="error-text">Course name already exists.</span>
    </div>
    <div class="form-group">
      <label for="description">Description:</label>
      <textarea id="description" formControlName="description"></textarea>
      <span *ngIf="courseForm.get('description')?.invalid && (courseForm.get('description')?.dirty || courseForm.get('description')?.touched)" class="error-text">
        {{ courseForm.get('description')?.hasError('required') ? 'Description is required' : courseForm.get('description')?.hasError('nonEmpty') ? 'Description cannot be empty' : courseForm.get('description')?.hasError('minlength') ? 'Description must be at least 20 characters long' : '' }}
      </span>
    </div>
    <div class="form-group">
      <label for="technology">Technology:</label>
      <input type="text" id="technology" formControlName="technology">
      <span *ngIf="courseForm.get('technology')?.invalid && (courseForm.get('technology')?.dirty || courseForm.get('technology')?.touched)" class="error-text">Technology is required</span>
    </div>
    <div class="form-group">
      <label for="duration">Duration(Minutes):</label>
      <input type="text" id="duration" formControlName="duration">
      <span *ngIf="courseForm.get('duration')?.invalid && (courseForm.get('duration')?.dirty || courseForm.get('duration')?.touched)"
            class="error-text" [ngClass]="{ 'negative-value-error': courseForm.get('duration')?.hasError('min') }">  {{ courseForm.get('duration')?.hasError('pattern') ? 'Invalid number' : 'Duration is required' }}
      </span>
    </div>
    <div class="form-group">
      <label for="launchUrl">Launch URL:</label>
      <input type="url" id="launchUrl" formControlName="launchUrl">
      <span *ngIf="courseForm.get('launchUrl')?.invalid && (courseForm.get('launchUrl')?.dirty || courseForm.get('launchUrl')?.touched)" class="error-text">Invalid URL</span>
    </div>
    <button (click)="onSave()" [disabled]="!courseForm.valid">Add</button>
    <button [mat-dialog-close]="false">Cancel</button>
  </form>
</div>



